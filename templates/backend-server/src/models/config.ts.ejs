// Objection is fully configured here and ready to go!

import pg from "pg";
import { Model } from "objection";
import knexfile from "../knexfile";

const PG_DECIMAL_OID = 1700;
pg.types.setTypeParser(PG_DECIMAL_OID, parseFloat);

const knexConfig = (knexfile as any)[process.env.NODE_ENV];
const knex = require("knex")(knexConfig);

Model.knex(knex);

export default Model;